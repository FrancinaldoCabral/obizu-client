<br>
<div class="container mt-4 mb-4 pb-4">
    <div class="row mb-2">
        <div class="col">
          <a [routerLink]="['/modules', id]">
            <i class="bi bi-arrow-left-circle-fill me-1"></i> Módulo
          </a>
        </div>
    </div>
    <div class="row mb-4">
        <div class="col">
            <div class="card animate__animated animate__fadeIn pb-4">
                <div class="card-header">
                    #{{iQuestions+1}} 
                </div>
                <div class="card-body">
                    <span>
                        <span class="badge rounded-pill text-bg-light mb-4 me-1" 
                            *ngFor="let category of questions[iQuestions]?.categories">
                            {{decodificarSequenciasUnicode(category)}}
                        </span>
                    </span>
                    <span [innerHTML]="questions[iQuestions]?.statement"></span>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <button type="button" 
                        class="list-group-item list-group-item-action" 
                        *ngFor="let alternative of questions[iQuestions]?.alternatives; let iAlternative=index"
                        [ngClass]="{'active':responses[iQuestions]===iAlternative}"
                        (click)="toRespond(iAlternative)">
                        <span [innerHTML]="alternative"></span>
                        </button>
                    </div>
                </div>
                <div class="card-body" *ngIf="confirmeds[iQuestions]===true">
                    <ul class="nav nav-tabs" id="commentedSolution" role="tablist">
                        <li class="nav-item" role="presentation">
                          <button class="nav-link active" id="commented-solution" data-bs-toggle="tab" data-bs-target="#commented-solution-pane" type="button" role="tab" aria-controls="commented-solution-pane" aria-selected="true">Solução comentada</button>
                        </li>
                        <li class="nav-item" role="presentation">
                          <button class="nav-link" id="user-commenteds" data-bs-toggle="tab" data-bs-target="#user-commenteds-pane" type="button" role="tab" aria-controls="user-commenteds-pane" aria-selected="false">Comentários dos usuários</button>
                        </li>
                    </ul>
                    <div class="tab-content mt-4" id="commentedSolutionContent">
                        <div class="tab-pane fade show active" id="commented-solution-pane" role="tabpanel" aria-labelledby="commented-solution" tabindex="0">
                            <span [innerHTML]="questions[iQuestions].comment"></span>
                        </div>
                        <div class="tab-pane fade" id="user-commenteds-pane" role="tabpanel" aria-labelledby="user-commenteds" tabindex="0">
                            <i>Em breve</i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br><br>
    <div class="row p-2 mt-4 fixed-bottom justify-content-center align-items-center bg-light">
        <div class="col-12 col-md-8 col-lg-8 text-center">
            <form>
                <div class="m-0">
                    <div class="btn-group form-control border-0 bg-light" role="group" aria-label="Basic mixed styles example">
                        <button type="button" class="btn btn-light btn-lg"
                        (click)="previous();">
                            <i class="bi bi-arrow-left-square"></i>
                        </button>
                        <button type="button" class="btn btn-success btn-lg"
                        [disabled]="responses[iQuestions] === null || responses[iQuestions] === undefined"
                        (click)="verify()">
                            <span *ngIf="!verifySpinner">
                                <i class="bi bi-check2-square"></i> 
                                Verificar
                            </span>
                            <span *ngIf="verifySpinner">
                                <div class="spinner-grow" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                                Verificar
                            </span>
                        </button>
                        <button type="button" class="btn btn-light btn-lg"
                        (click)="next();">
                            <i class="bi bi-arrow-right-square"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


<ngx-spinner class="mb-2" name="transactional"
bdColor="rgba(0, 0, 0, 0.8)" size ="medium" color="#fff" type="ball-atom" [fullScreen] = "true"
>
<!-- <p class="text-secondary mt-2">Loading...</p> -->
Aguarde...
</ngx-spinner>